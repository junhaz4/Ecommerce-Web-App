{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nconst axios = require('axios');\nimport swal from 'sweetalert';\nexport default {\n  name: 'Signin',\n  props: [\"baseURL\"],\n  data() {\n    return {\n      email: null,\n      password: null,\n      loading: null\n    };\n  },\n  methods: {\n    async signin(e) {\n      e.preventDefault();\n      // set loading to true\n      this.loading = true;\n\n      // request body\n      const user = {\n        email: this.email,\n        password: this.password\n      };\n      // api call\n      await axios({\n        method: 'post',\n        url: this.baseURL + \"user/signIn\",\n        data: JSON.stringify(user),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => {\n        // login successful, we will get token in res.data object\n        localStorage.setItem('token', res.data.token);\n        // // redirect to home page\n        this.$router.push({\n          name: 'Home'\n        });\n        swal({\n          text: \"Login successful. Please continue\",\n          icon: \"success\"\n        });\n      }).catch(err => {\n        // error handling and showing sweet alert\n        swal({\n          text: \"Unable to Log you in!\",\n          icon: \"error\",\n          closeOnClickOutside: false\n        });\n        console.log(err);\n      }).finally(() => {\n        // set loading false\n        this.loading = false;\n      });\n    }\n  },\n  mounted() {\n    this.loading = false;\n  }\n};","map":{"version":3,"names":["axios","require","swal","name","props","data","email","password","loading","methods","signin","e","preventDefault","user","method","url","baseURL","JSON","stringify","headers","then","res","localStorage","setItem","token","$router","push","text","icon","catch","err","closeOnClickOutside","console","log","finally","mounted"],"sources":["/Users/lawrencezhang/Desktop/ecommerce-ui/src/views/Signin.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <!--    Logo Div-->\n    <div class=\"row\">\n      <div class=\"col-12 text-center pt-3\">\n        <router-link :to=\"{name : 'Home'}\">\n          <img id=\"logo\" src=\"../assets/icon.png\" />\n        </router-link>\n      </div>\n    </div>\n    <!--    sign in form-->\n    <div class=\"row\">\n      <div class=\"col-12 justify-content-center d-flex flex-row pt-5\">\n        <div id=\"signin-div\" class=\"flex-item border\">\n          <h2 class=\"pt-4 pl-4\">Sign-In</h2>\n          <form @submit=\"signin\" class=\"pt-4 pl-4 pr-4\">\n            <div class=\"form-group\">\n              <label>Email</label>\n              <input type=\"email\" class=\"form-control\" v-model=\"email\" required>\n            </div>\n            <div class=\"form-group\">\n              <label>Password</label>\n              <input type=\"password\" class=\"form-control\" v-model=\"password\" required>\n            </div>\n            <small class=\"form-text text-muted\">By continuing, you agree to Simplecoding's Conditions of Use and Privacy Notice.</small>\n            <button type=\"submit\" class=\"btn btn-primary mt-2 py-0\">\n              Continue\n              <!--  loading bar will appear when we are making the API call and saveing the token -->\n              <div v-if=\"loading\" class=\"spinner-border spinner-border-sm\" role=\"status\">\n                <span class=\"sr-only\">Loading...</span>\n              </div>\n            </button>\n          </form>\n          <hr>\n          <small class=\"form-text text-muted pt-2 pl-4 text-center\">New to Simplecoding?</small>\n          <p class=\"text-center\">\n            <router-link :to=\"{name: 'Signup'}\" class=\"btn btn-dark text-center mx-auto px-5 py-1 mb-2\">Create Your Simplecoding Account</router-link>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst axios = require('axios')\nimport swal from 'sweetalert';\nexport default {\n  name: 'Signin',\n  props : [ \"baseURL\"],\n  data() {\n    return {\n      email: null,\n      password: null,\n      loading: null\n    }\n  },\n  methods : {\n    async signin(e) {\n      e.preventDefault();\n      // set loading to true\n      this.loading = true;\n\n      // request body\n      const user = {\n        email: this.email,\n        password: this.password\n      }\n      // api call\n      await axios({\n        method: 'post',\n        url: this.baseURL + \"user/signIn\",\n        data : JSON.stringify(user),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n      .then(res => {\n        // login successful, we will get token in res.data object\n        localStorage.setItem('token', res.data.token);\n        // // redirect to home page\n        this.$router.push({name:'Home'});\n        swal({\n          text: \"Login successful. Please continue\",\n          icon: \"success\"\n        });\n      })\n      .catch(err => {\n        // error handling and showing sweet alert\n        swal({\n          text: \"Unable to Log you in!\",\n          icon: \"error\",\n          closeOnClickOutside: false,\n        });\n        console.log(err);\n      })\n      .finally(() => {\n        // set loading false\n        this.loading = false;\n      })\n    }\n  },\n  mounted() {\n    this.loading = false;\n  }\n}\n</script>\n\n<style scoped>\n.btn-dark {\n  background-color: #e7e9ec;\n  color: #000;\n  font-size: smaller;\n  border-radius: 0;\n  border-color: #adb1b8 #a2a6ac #a2a6ac;\n}\n\n.btn-primary {\n  background-color: #f0c14b;\n  color: black;\n  border-color: #a88734 #9c7e31 #846a29;\n  border-radius: 0;\n}\n\n#logo {\n  width: 150px;\n}\n\n@media only screen and (min-width: 992px) {\n  #signin-div {\n    width: 40%;\n  }\n}\n\n\n</style>\n"],"mappings":";AA6CA,MAAMA,KAAI,GAAIC,OAAO,CAAC,OAAO;AAC7B,OAAOC,IAAG,MAAO,YAAY;AAC7B,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,KAAI,EAAI,CAAE,SAAS,CAAC;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,IAAI;MACXC,QAAQ,EAAE,IAAI;MACdC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,OAAM,EAAI;IACR,MAAMC,MAAMA,CAACC,CAAC,EAAE;MACdA,CAAC,CAACC,cAAc,EAAE;MAClB;MACA,IAAI,CAACJ,OAAM,GAAI,IAAI;;MAEnB;MACA,MAAMK,IAAG,GAAI;QACXP,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBC,QAAQ,EAAE,IAAI,CAACA;MACjB;MACA;MACA,MAAMP,KAAK,CAAC;QACVc,MAAM,EAAE,MAAM;QACdC,GAAG,EAAE,IAAI,CAACC,OAAM,GAAI,aAAa;QACjCX,IAAG,EAAIY,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC;QAC3BM,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,EACAC,IAAI,CAACC,GAAE,IAAK;QACX;QACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,GAAG,CAAChB,IAAI,CAACmB,KAAK,CAAC;QAC7C;QACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UAACvB,IAAI,EAAC;QAAM,CAAC,CAAC;QAChCD,IAAI,CAAC;UACHyB,IAAI,EAAE,mCAAmC;UACzCC,IAAI,EAAE;QACR,CAAC,CAAC;MACJ,CAAC,EACAC,KAAK,CAACC,GAAE,IAAK;QACZ;QACA5B,IAAI,CAAC;UACHyB,IAAI,EAAE,uBAAuB;UAC7BC,IAAI,EAAE,OAAO;UACbG,mBAAmB,EAAE;QACvB,CAAC,CAAC;QACFC,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;MAClB,CAAC,EACAI,OAAO,CAAC,MAAM;QACb;QACA,IAAI,CAAC1B,OAAM,GAAI,KAAK;MACtB,CAAC;IACH;EACF,CAAC;EACD2B,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC3B,OAAM,GAAI,KAAK;EACtB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}