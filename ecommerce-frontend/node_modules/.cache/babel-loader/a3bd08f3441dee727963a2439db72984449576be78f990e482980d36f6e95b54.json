{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nconst axios = require('axios');\nexport default {\n  data() {\n    return {\n      token: null,\n      orderList: []\n    };\n  },\n  props: [\"baseURL\"],\n  name: 'Order',\n  methods: {\n    // list of order histories\n    listOrders() {\n      axios.get(`${this.baseURL}order/?token=${this.token}`).then(response => {\n        if (response.status == 200) {\n          this.orders = response.data;\n          // for each order populate orderList\n          this.orders.forEach(order => {\n            this.orderList.push({\n              id: order.id,\n              totalCost: order.totalPrice,\n              // get short date\n              orderdate: order.createdDate.substring(0, 10),\n              // get image of the first orderItem of the order\n              imageURL: order.orderItems[0].product.imageURL,\n              // get total items\n              totalItems: order.orderItems.length\n            });\n          });\n        }\n      }, error => {\n        console.log(error);\n      });\n    }\n  },\n  mounted() {\n    this.token = localStorage.getItem(\"token\");\n    this.listOrders();\n  }\n};","map":{"version":3,"names":["axios","require","data","token","orderList","props","name","methods","listOrders","get","baseURL","then","response","status","orders","forEach","order","push","id","totalCost","totalPrice","orderdate","createdDate","substring","imageURL","orderItems","product","totalItems","length","error","console","log","mounted","localStorage","getItem"],"sources":["/Users/lawrencezhang/Desktop/ecommerce-ui/src/views/order/OrderHistory.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"col-12 text-center\">\n                <h4 class=\"pt-3\">Your Orders</h4>\n            </div>\n        </div>\n<!--        for each order display -->\n        <div v-for=\"order in orderList\" :key=\"order.pid\" class=\"row mt-2 pt-3 justify-content-around\">\n            <div class=\"col-2\"></div>\n            <div class=\"col-md-3 embed-responsive embed-responsive-16by9\">\n<!--                display image in left-->\n                <img v-bind:src=\"order.imageURL\" class=\"w-100 card-img-top embed-responsive-item\">\n            </div>\n            <div class=\"col-md-5 px-3\">\n                <div class=\"card-block px-3\">\n                    <h6 class=\"card-title\">\n                        <router-link v-bind:to=\"'/order/'+order.id\">Order No : {{order.id}}</router-link>\n                    </h6>\n                    <p class=\"mb-0\">{{order.totalItems}} item<span v-if=\"order.totalItems > 1\">s</span></p>\n                    <p id=\"item-price\" class=\"mb-0 font-weight-bold\">Total Cost : $ {{order.totalCost}}</p>\n                    <p id=\"item-total-price\">Ordered on : {{order.orderdate}}</p>\n                </div>\n            </div>\n            <div class=\"col-2\"></div>\n            <div class=\"col-12\"><hr></div>\n        </div>\n    </div>\n\n</template>\n\n<script>\nconst axios = require('axios')\nexport default {\n\n    data() {\n        return {\n            token: null,\n            orderList : []\n        }\n    },\n    props:[\"baseURL\"],\n    name: 'Order',\n    methods: {\n        // list of order histories\n        listOrders(){\n            axios.get(`${this.baseURL}order/?token=${this.token}`)\n                .then((response) => {\n                    if(response.status==200){\n                        this.orders = response.data\n                        // for each order populate orderList\n                        this.orders.forEach((order) => {\n                            this.orderList.push({\n                                id: order.id,\n                                totalCost: order.totalPrice,\n                                // get short date\n                                orderdate: order.createdDate.substring(0,10),\n                                // get image of the first orderItem of the order\n                                imageURL: order.orderItems[0].product.imageURL,\n                                // get total items\n                                totalItems: order.orderItems.length\n                            })\n                        })\n                    }\n                },\n                (error)=>{\n                    console.log(error)\n                });\n        },\n    },\n    mounted() {\n        this.token = localStorage.getItem(\"token\");\n        this.listOrders();\n    },\n};\n\n</script>\n\n<style scoped>\n    h4, h5 {\n        font-family: 'Roboto', sans-serif;\n        color: #484848;\n        font-weight: 700;\n    }\n\n    .embed-responsive .card-img-top {\n        object-fit: cover;\n    }\n</style>\n"],"mappings":";AAgCA,MAAMA,KAAI,GAAIC,OAAO,CAAC,OAAO;AAC7B,eAAe;EAEXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,KAAK,EAAE,IAAI;MACXC,SAAQ,EAAI;IAChB;EACJ,CAAC;EACDC,KAAK,EAAC,CAAC,SAAS,CAAC;EACjBC,IAAI,EAAE,OAAO;EACbC,OAAO,EAAE;IACL;IACAC,UAAUA,CAAA,EAAE;MACRR,KAAK,CAACS,GAAG,CAAE,GAAE,IAAI,CAACC,OAAQ,gBAAe,IAAI,CAACP,KAAM,EAAC,EAChDQ,IAAI,CAAEC,QAAQ,IAAK;QAChB,IAAGA,QAAQ,CAACC,MAAM,IAAE,GAAG,EAAC;UACpB,IAAI,CAACC,MAAK,GAAIF,QAAQ,CAACV,IAAG;UAC1B;UACA,IAAI,CAACY,MAAM,CAACC,OAAO,CAAEC,KAAK,IAAK;YAC3B,IAAI,CAACZ,SAAS,CAACa,IAAI,CAAC;cAChBC,EAAE,EAAEF,KAAK,CAACE,EAAE;cACZC,SAAS,EAAEH,KAAK,CAACI,UAAU;cAC3B;cACAC,SAAS,EAAEL,KAAK,CAACM,WAAW,CAACC,SAAS,CAAC,CAAC,EAAC,EAAE,CAAC;cAC5C;cACAC,QAAQ,EAAER,KAAK,CAACS,UAAU,CAAC,CAAC,CAAC,CAACC,OAAO,CAACF,QAAQ;cAC9C;cACAG,UAAU,EAAEX,KAAK,CAACS,UAAU,CAACG;YACjC,CAAC;UACL,CAAC;QACL;MACJ,CAAC,EACAC,KAAK,IAAG;QACLC,OAAO,CAACC,GAAG,CAACF,KAAK;MACrB,CAAC,CAAC;IACV;EACJ,CAAC;EACDG,OAAOA,CAAA,EAAG;IACN,IAAI,CAAC7B,KAAI,GAAI8B,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC1C,IAAI,CAAC1B,UAAU,EAAE;EACrB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}