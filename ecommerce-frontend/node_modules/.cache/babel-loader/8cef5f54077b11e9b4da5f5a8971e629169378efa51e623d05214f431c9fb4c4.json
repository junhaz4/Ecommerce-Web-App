{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4e9626c1\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"row\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-12 text-center\"\n}, [/*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"pt-3\"\n}, \"Your Orders\")])], -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"col-md-3 embed-responsive embed-responsive-16by9\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"col-md-5 px-3\"\n};\nconst _hoisted_7 = {\n  class: \"card-block px-3\"\n};\nconst _hoisted_8 = {\n  class: \"card-title\"\n};\nconst _hoisted_9 = {\n  class: \"mb-0\"\n};\nconst _hoisted_10 = {\n  key: 0\n};\nconst _hoisted_11 = {\n  id: \"item-price\",\n  class: \"mb-0 font-weight-bold\"\n};\nconst _hoisted_12 = {\n  id: \"item-total-price\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-12\"\n}, [/*#__PURE__*/_createElementVNode(\"hr\")], -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createCommentVNode(\"        for each order display \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.orderList, order => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: order.pid,\n      class: \"row mt-2 pt-3 justify-content-around\"\n    }, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\"                display image in left\"), _createElementVNode(\"img\", {\n      src: order.imageURL,\n      class: \"w-100 card-img-top embed-responsive-item\"\n    }, null, 8 /* PROPS */, _hoisted_5)]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h6\", _hoisted_8, [_createVNode(_component_router_link, {\n      to: '/order/' + order.id\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Order No : \" + _toDisplayString(order.id), 1 /* TEXT */)]),\n\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]), _createElementVNode(\"p\", _hoisted_9, [_createTextVNode(_toDisplayString(order.totalItems) + \" item\", 1 /* TEXT */), order.totalItems > 1 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_10, \"s\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"p\", _hoisted_11, \"Total Cost : $ \" + _toDisplayString(order.totalCost), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_12, \"Ordered on : \" + _toDisplayString(order.orderdate), 1 /* TEXT */)])]), _hoisted_13, _hoisted_14]);\n  }), 128 /* KEYED_FRAGMENT */))]);\n}","map":{"version":3,"names":["class","_createElementVNode","id","_createElementBlock","_hoisted_1","_hoisted_2","_createCommentVNode","_Fragment","_renderList","$data","orderList","order","key","pid","_hoisted_3","_hoisted_4","src","imageURL","_hoisted_6","_hoisted_7","_hoisted_8","_createVNode","_component_router_link","to","_toDisplayString","_hoisted_9","totalItems","_hoisted_10","_hoisted_11","totalCost","_hoisted_12","orderdate","_hoisted_13","_hoisted_14"],"sources":["/Users/lawrencezhang/Desktop/ecommerce-ui/src/views/order/OrderHistory.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"col-12 text-center\">\n                <h4 class=\"pt-3\">Your Orders</h4>\n            </div>\n        </div>\n<!--        for each order display -->\n        <div v-for=\"order in orderList\" :key=\"order.pid\" class=\"row mt-2 pt-3 justify-content-around\">\n            <div class=\"col-2\"></div>\n            <div class=\"col-md-3 embed-responsive embed-responsive-16by9\">\n<!--                display image in left-->\n                <img v-bind:src=\"order.imageURL\" class=\"w-100 card-img-top embed-responsive-item\">\n            </div>\n            <div class=\"col-md-5 px-3\">\n                <div class=\"card-block px-3\">\n                    <h6 class=\"card-title\">\n                        <router-link v-bind:to=\"'/order/'+order.id\">Order No : {{order.id}}</router-link>\n                    </h6>\n                    <p class=\"mb-0\">{{order.totalItems}} item<span v-if=\"order.totalItems > 1\">s</span></p>\n                    <p id=\"item-price\" class=\"mb-0 font-weight-bold\">Total Cost : $ {{order.totalCost}}</p>\n                    <p id=\"item-total-price\">Ordered on : {{order.orderdate}}</p>\n                </div>\n            </div>\n            <div class=\"col-2\"></div>\n            <div class=\"col-12\"><hr></div>\n        </div>\n    </div>\n\n</template>\n\n<script>\nconst axios = require('axios')\nexport default {\n\n    data() {\n        return {\n            token: null,\n            orderList : []\n        }\n    },\n    props:[\"baseURL\"],\n    name: 'Order',\n    methods: {\n        // list of order histories\n        listOrders(){\n            axios.get(`${this.baseURL}order/?token=${this.token}`)\n                .then((response) => {\n                    if(response.status==200){\n                        this.orders = response.data\n                        // for each order populate orderList\n                        this.orders.forEach((order) => {\n                            this.orderList.push({\n                                id: order.id,\n                                totalCost: order.totalPrice,\n                                // get short date\n                                orderdate: order.createdDate.substring(0,10),\n                                // get image of the first orderItem of the order\n                                imageURL: order.orderItems[0].product.imageURL,\n                                // get total items\n                                totalItems: order.orderItems.length\n                            })\n                        })\n                    }\n                },\n                (error)=>{\n                    console.log(error)\n                });\n        },\n    },\n    mounted() {\n        this.token = localStorage.getItem(\"token\");\n        this.listOrders();\n    },\n};\n\n</script>\n\n<style scoped>\n    h4, h5 {\n        font-family: 'Roboto', sans-serif;\n        color: #484848;\n        font-weight: 700;\n    }\n\n    .embed-responsive .card-img-top {\n        object-fit: cover;\n    }\n</style>\n"],"mappings":";;;EACSA,KAAK,EAAC;AAAW;gEAClBC,mBAAA,CAIM;EAJDD,KAAK,EAAC;AAAK,I,aACZC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAoB,I,aAC3BC,mBAAA,CAAiC;EAA7BD,KAAK,EAAC;AAAM,GAAC,aAAW,E;gEAKhCC,mBAAA,CAAyB;EAApBD,KAAK,EAAC;AAAO;;EACbA,KAAK,EAAC;AAAkD;;;EAIxDA,KAAK,EAAC;AAAe;;EACjBA,KAAK,EAAC;AAAiB;;EACpBA,KAAK,EAAC;AAAY;;EAGnBA,KAAK,EAAC;AAAM;;;;;EACZE,EAAE,EAAC,YAAY;EAACF,KAAK,EAAC;;;EACtBE,EAAE,EAAC;AAAkB;iEAGhCD,mBAAA,CAAyB;EAApBD,KAAK,EAAC;AAAO;iEAClBC,mBAAA,CAA8B;EAAzBD,KAAK,EAAC;AAAQ,I,aAACC,mBAAA,CAAI,M;;;;uBAxBhCE,mBAAA,CA0BM,OA1BNC,UA0BM,GAzBFC,UAIM,EACdC,mBAAA,mCAAsC,G,kBAC9BH,mBAAA,CAkBMI,SAAA,QAAAC,WAAA,CAlBeC,KAAA,CAAAC,SAAS,EAAlBC,KAAK;yBAAjBR,mBAAA,CAkBM;MAlB2BS,GAAG,EAAED,KAAK,CAACE,GAAG;MAAEb,KAAK,EAAC;QACnDc,UAAyB,EACzBb,mBAAA,CAGM,OAHNc,UAGM,GAFlBT,mBAAA,yCAA4C,EAC5BL,mBAAA,CAAkF;MAAtEe,GAAG,EAAEL,KAAK,CAACM,QAAQ;MAAEjB,KAAK,EAAC;2CAE3CC,mBAAA,CASM,OATNiB,UASM,GARFjB,mBAAA,CAOM,OAPNkB,UAOM,GANFlB,mBAAA,CAEK,MAFLmB,UAEK,GADDC,YAAA,CAAiFC,sBAAA;MAA7DC,EAAE,cAAYZ,KAAK,CAACT;;wBAAI,MAAW,C,iBAAX,aAAW,GAAAsB,gBAAA,CAAEb,KAAK,CAACT,EAAE,iB;;;mDAErED,mBAAA,CAAuF,KAAvFwB,UAAuF,G,kCAArEd,KAAK,CAACe,UAAU,IAAE,OAAK,iBAAYf,KAAK,CAACe,UAAU,Q,cAA5BvB,mBAAA,CAA0C,QAAAwB,WAAA,EAAR,GAAC,K,qCAC5E1B,mBAAA,CAAuF,KAAvF2B,WAAuF,EAAtC,iBAAe,GAAAJ,gBAAA,CAAEb,KAAK,CAACkB,SAAS,kBACjF5B,mBAAA,CAA6D,KAA7D6B,WAA6D,EAApC,eAAa,GAAAN,gBAAA,CAAEb,KAAK,CAACoB,SAAS,iB,KAG/DC,WAAyB,EACzBC,WAA8B,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}